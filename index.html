<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animation 1</title>

    <style>
        #jogador{
            position: absolute;
            top: 0px;
            left: 0px;
            background-color: blueviolet;
            width: 50px;
            height: 50px;
        }
    </style>


    <script>

        var jog;
        var vel;
        var dx;
        var dy;
        var px;
        var py;
        var anima;
        var estado;

        function inicia(){

            vel = 2;
            dx = 1;
            dy = 0;
            px = 0;
            py = 0;
            estado = 1; // 1 = movendo - 2 = parado
            jog = document.getElementById("jogador")
            jog.addEventListener("click", function(){
                cancelAnimationFrame(anima)
            });
            game();


}

        function moverParar (){

            if(estado){
                estado = 0;
                jog.style.backgroundColor= "f00"
            }

        }


        function game(){

            px += (dx*vel);
            py += (dy*vel);
            jog.style.left = px + "px";
            jog.style.top = py + "px";
            anima= requestAnimationFrame(game);

            if(px > 1000){
                dx = -1;
            }

            else if(px < 0){
                dx = 1;
            }


        }

        window.addEventListener("load", inicia);
        
    </script>
</head>
<body>
    
    <div id="jogador"></div>
    <button>Iniciar</button>
    <button>Parar</button>
    
</body>
</html>